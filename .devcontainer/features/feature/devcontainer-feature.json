{
  "id": "feature",
  "version": "1.3.1",
  "name": "catnip",
  "description": "Ensures SSH, installs catnip, Claude CLI, GitHub CLI, and Catnip VS Code sidebar extension.",
  "options": {
    "ensureSsh": {
      "type": "boolean",
      "default": true,
      "description": "Install and run openssh-server and openssh-client if missing"
    },
    "installCatnip": { "type": "boolean", "default": true },
    "installClaude": { "type": "boolean", "default": true },
    "installGh": { "type": "boolean", "default": true },
    "debug": {
      "type": "boolean",
      "default": false,
      "description": "Enable debug mode for enhanced logging and troubleshooting"
    },
    "dev": {
      "type": "boolean",
      "default": false,
      "description": "Enable development mode for internal testing"
    },
    "updateDefaultBranch": {
      "type": "boolean",
      "default": true,
      "description": "Automatically update the default branch of mounted codespace repository on startup"
    }
  },
  "entrypoint": "/usr/local/share/catnip-init.sh",
  "customizations": {
    "vscode": {
      "extensions": ["anthropic.claude-code", "wandb.catnip-sidebar"]
    }
  },
  "containerEnv": {
    "PATH": "/opt/catnip/bin:/home/vscode/.local/bin:${PATH}",
    "CATNIP_WORKSPACE_DIR": "/worktrees",
    "CATNIP_HOME_DIR": "/home/vscode",
    "CATNIP_VOLUME_DIR": "/workspaces/.catnip/state",
    "CATNIP_LIVE_DIR": "/workspaces"
  },
  "postStartCommand": "/opt/catnip/bin/catnip-upgrade-and-start.sh",
  "installsAfter": ["ghcr.io/devcontainers/features/sshd"]
}
